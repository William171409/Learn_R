Chapter12 Matrix
================

## 12.1 Matrix

``` r
A <- matrix(11:16, nrow=3, ncol=2); print(A)
```

    ##      [,1] [,2]
    ## [1,]   11   14
    ## [2,]   12   15
    ## [3,]   13   16

``` r
B <- matrix(c(1,-1, 1,1), nrow=2, ncol=2, byrow=TRUE) 
print(B)
```

    ##      [,1] [,2]
    ## [1,]    1   -1
    ## [2,]    1    1

``` r
B <- matrix(c(1,-1, 1,1), nrow=2, ncol=2, byrow=FALSE) 
print(B)
```

    ##      [,1] [,2]
    ## [1,]    1    1
    ## [2,]   -1    1

``` r
nrow(A)
```

    ## [1] 3

``` r
ncol(A)
```

    ## [1] 2

``` r
class(A)
```

    ## [1] "matrix" "array"

``` r
attributes(A)
```

    ## $dim
    ## [1] 3 2

``` r
dim(A)
```

    ## [1] 3 2

## 12.2 Subset of Matrix

``` r
A
```

    ##      [,1] [,2]
    ## [1,]   11   14
    ## [2,]   12   15
    ## [3,]   13   16

``` r
cat(A[1,],"A[1,] class: ",class(A[1,]),"\n")
```

    ## 11 14 A[1,] class:  integer

``` r
cat(A[,1],"A[,1] class: ",class(A[,1]),"\n")
```

    ## 11 12 13 A[,1] class:  integer

``` r
cat(A[c(1,3), 1:2],"A[c(1,3), 1:2] class: ",class(A[c(1,3), 1:2]),"\n")
```

    ## 11 13 14 16 A[c(1,3), 1:2] class:  matrix array

``` r
colnames(A) <- c('X', 'Y')
rownames(A) <- c('a', 'b', 'c')
A
```

    ##    X  Y
    ## a 11 14
    ## b 12 15
    ## c 13 16

``` r
A[,1,drop=FALSE]
```

    ##    X
    ## a 11
    ## b 12
    ## c 13

``` r
A[A[,1]>=12,'Y']
```

    ##  b  c 
    ## 15 16

``` r
c(A)
```

    ## [1] 11 12 13 14 15 16

``` r
diag(2)
```

    ##      [,1] [,2]
    ## [1,]    1    0
    ## [2,]    0    1

## 12.3 cbind() and rbind()

``` r
cbind(c(1,2), c(3,4), c(5,6))
```

    ##      [,1] [,2] [,3]
    ## [1,]    1    3    5
    ## [2,]    2    4    6

``` r
cbind(A, c(1,-1,10))
```

    ##    X  Y   
    ## a 11 14  1
    ## b 12 15 -1
    ## c 13 16 10

``` r
cbind(1, c(1,-1,10))
```

    ##      [,1] [,2]
    ## [1,]    1    1
    ## [2,]    1   -1
    ## [3,]    1   10

## 12.4 Matrix Computations

``` r
A
```

    ##    X  Y
    ## a 11 14
    ## b 12 15
    ## c 13 16

``` r
C1 <- A + 2; C1
```

    ##    X  Y
    ## a 13 16
    ## b 14 17
    ## c 15 18

``` r
C2 <- A / 2; C2
```

    ##     X   Y
    ## a 5.5 7.0
    ## b 6.0 7.5
    ## c 6.5 8.0

``` r
C1 + C2
```

    ##      X    Y
    ## a 18.5 23.0
    ## b 20.0 24.5
    ## c 21.5 26.0

``` r
C1 - C2
```

    ##     X    Y
    ## a 7.5  9.0
    ## b 8.0  9.5
    ## c 8.5 10.0

``` r
C1 * C2
```

    ##      X     Y
    ## a 71.5 112.0
    ## b 84.0 127.5
    ## c 97.5 144.0

``` r
C1 / C2
```

    ##          X        Y
    ## a 2.363636 2.285714
    ## b 2.333333 2.266667
    ## c 2.307692 2.250000

``` r
A
```

    ##    X  Y
    ## a 11 14
    ## b 12 15
    ## c 13 16

``` r
B
```

    ##      [,1] [,2]
    ## [1,]    1    1
    ## [2,]   -1    1

``` r
C3 <- A %*% B; C3
```

    ##   [,1] [,2]
    ## a   -3   25
    ## b   -3   27
    ## c   -3   29

``` r
c(1,1) %*% B
```

    ##      [,1] [,2]
    ## [1,]    0    2

``` r
B %*% c(1,1)
```

    ##      [,1]
    ## [1,]    2
    ## [2,]    0

``` r
c(1,1) %*% B %*% c(1,1)
```

    ##      [,1]
    ## [1,]    2

``` r
c(1,2,3) %o% c(1, -1)
```

    ##      [,1] [,2]
    ## [1,]    1   -1
    ## [2,]    2   -2
    ## [3,]    3   -3

## 12.5 Inverse Matrix

``` r
solve(B)
```

    ##      [,1] [,2]
    ## [1,]  0.5 -0.5
    ## [2,]  0.5  0.5

``` r
solve(B, c(1,2))
```

    ## [1] -0.5  1.5

## 12.6 apply()

``` r
D <- matrix(c(6,2,3,5,4,1), nrow=3, ncol=2); D
```

    ##      [,1] [,2]
    ## [1,]    6    5
    ## [2,]    2    4
    ## [3,]    3    1

``` r
apply(D, 2, sum)
```

    ## [1] 11 10

``` r
apply(D, 1, mean)
```

    ## [1] 5.5 3.0 2.0

``` r
apply(D, 2, range)
```

    ##      [,1] [,2]
    ## [1,]    2    1
    ## [2,]    6    5

``` r
apply(D, 1, range)
```

    ##      [,1] [,2] [,3]
    ## [1,]    5    2    1
    ## [2,]    6    4    3

``` r
t(apply(D, 1, range))
```

    ##      [,1] [,2]
    ## [1,]    5    6
    ## [2,]    2    4
    ## [3,]    1    3

## 12.7 Multidimensional Array

``` r
ara <- array(1:24, dim=c(2,3,4)); ara
```

    ## , , 1
    ## 
    ##      [,1] [,2] [,3]
    ## [1,]    1    3    5
    ## [2,]    2    4    6
    ## 
    ## , , 2
    ## 
    ##      [,1] [,2] [,3]
    ## [1,]    7    9   11
    ## [2,]    8   10   12
    ## 
    ## , , 3
    ## 
    ##      [,1] [,2] [,3]
    ## [1,]   13   15   17
    ## [2,]   14   16   18
    ## 
    ## , , 4
    ## 
    ##      [,1] [,2] [,3]
    ## [1,]   19   21   23
    ## [2,]   20   22   24

``` r
ara[,,2]
```

    ##      [,1] [,2] [,3]
    ## [1,]    7    9   11
    ## [2,]    8   10   12

``` r
ara[,2,2:3]
```

    ##      [,1] [,2]
    ## [1,]    9   15
    ## [2,]   10   16

## 12.8 List Style Matrix

``` r
L <- matrix(list(), nrow=2, ncol=2); L
```

    ##      [,1] [,2]
    ## [1,] NULL NULL
    ## [2,] NULL NULL

``` r
L[1,1] <- list(1:2)
L[1,2] <- list(3:5)
L[2,1] <- list(6:10)
L[2,2] <- list(11:15)
L
```

    ##      [,1]      [,2]     
    ## [1,] integer,2 integer,3
    ## [2,] integer,5 integer,5

``` r
L[2,2]
```

    ## [[1]]
    ## [1] 11 12 13 14 15

``` r
L[2,2][[1]]
```

    ## [1] 11 12 13 14 15
